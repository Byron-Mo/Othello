{"version":3,"sources":["webpack/bootstrap a2402b6e45e5f446453f","./js/main.js","./js/game.js","./js/board.js","./js/piece.js","./js/moveError.js","./js/player.js","./js/view.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACPD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC7DA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,kBAAiB,sBAAsB;AACvC;AACA;AACA;;;;;;;AAOA;AACA;;AAEA,kBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,kBAAiB,cAAc;AAC/B,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,cAAc;AAC/B,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC9KA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;;AAEA;;;;;;;ACJA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACRA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,QAAQ;AACzB,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAiB,gBAAgB;AACjC,oBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAiB,gBAAgB;AACjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a2402b6e45e5f446453f\n **/","var Game = require(\"./game.js\")\nvar View = require(\"./view.js\")\n\n$(function() {\n  var $el = $(\"figure\");\n  var game = new Game();\n  new View(game, $el)\n})\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var Board = require('./board.js');\nvar Player = require('./player.js');\n\nvar Game = function() {\n  this.board = new Board();\n  this.player1 = new Player(this, \"black\");\n  this.player2 = new Player(this, \"white\");\n  this.currentPlayer = this.player1;\n  this.winner = null;\n}\n\n// Game.prototype.play = function() {\n//   if (!this.board.isGameOver()) {\n//     if (this.board.containsValidMove(this.currentPlayer.color)) {\n//\n//     }\n//     this.switchPlayer();\n//   }\n// }\n\nGame.prototype.playMove = function(coordinates) {\n  this.board.addPiece(coordinates[0], coordinates[1], this.currentPlayer.color)\n  this.switchPlayer();\n\n  if (!this.board.containsValidMove(this.currentPlayer.color)) {\n    this.switchPlayer();\n    // add notification that player has switched because no room left\n  }\n}\n\nGame.prototype.currentPlayerMoves = function() {\n  return this.board.validMoves(this.currentPlayer.color)\n}\n\nGame.prototype.isOver = function() {\n  if (this.board.isGameOver()) {\n    if (this.board.blackScore > this.board.whiteScore) {\n      this.winner = \"Black\"\n    } else if (this.board.blackScore < this.board.whiteScore) {\n      this.winner = \"White\";\n    } else {\n      this.winner = \"Tie\"\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\n\nGame.prototype.switchPlayer = function() {\n  if (this.currentPlayer.color === \"black\") {\n    this.currentPlayer = this.player2;\n  } else {\n    this.currentPlayer = this.player1;\n  }\n}\n\nGame.prototype.setup = function() {\n  this.board.setupBoard();\n}\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game.js\n ** module id = 1\n ** module chunks = 0\n **/","var Piece = require('./piece.js')\nvar moveError = require('./moveError.js')\n\nvar Board = function() {\n  this.grid = [];\n  this.row = 10;\n  this.col = 10;\n  for (var i = 0; i < this.row; i ++) {\n    var arr = []\n    for (var j = 0; j < this.col; j++) {\n      arr.push(new Piece(null))\n    }\n    this.grid.push(arr)\n  }\n\n  this.blackScore = 2;\n  this.whiteScore = 2;\n}\n\nBoard.prototype.addPiece = function(row, col, color) {\n  if (this.isLegalMove([row, col], color)) {\n    this.convertPiece([row, col], color)\n  } else {\n    throw new moveError(\"not valid\")\n  }\n}\n\nBoard.prototype.convertPiece = function(coordinates, color) {\n  this.grid[coordinates[0]][coordinates[1]].color = color;\n  this.incrementCount(color)\n\n  var movements = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n\n  for (var i = 0; i < movements.length; i++) {\n    this.flipPieces(coordinates, color, movements[i])\n  }\n}\n\n\n\n\n\n\nBoard.prototype.isLegalMove = function(coordinates, color) {\n  var movements = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n\n  for (var i = 0; i < movements.length; i++) {\n    if (this.findMove(coordinates, color, movements[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\nBoard.prototype.containsValidMove = function(color) {\n  for (var i = 0; i < this.row; i++) {\n    for (var j = 0; j < this.col; j++) {\n      if (this.isLegalMove([i, j], color)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nBoard.prototype.isGameOver = function() {\n  return !this.containsValidMove(\"white\") && !this.containsValidMove(\"black\")\n}\n\nBoard.prototype.validMoves = function(color) {\n  var moves = [];\n  for (var i = 0; i < this.row; i++) {\n    for (var j = 0; j < this.col; j++) {\n      if (this.isLegalMove([i, j], color)) {\n        moves.push([i, j])\n      }\n    }\n  }\n  return moves;\n}\n\n\n\nBoard.prototype.findMove = function(coordinates, color, dir) {\n  if (this.findPiece(coordinates).color !== null) {\n    return false;\n  }\n\n  var count = 0;\n  var newCoords = Board.directions(coordinates, dir);\n\n  while (Board.inBounds(newCoords) && this.findPiece(newCoords).color === Board.oppositeColor(color)) {\n    count++;\n    newCoords = Board.directions(newCoords, dir)\n  }\n\n  return (count > 0 && Board.inBounds(newCoords) && this.findPiece(newCoords).color === color);\n}\n\n\nBoard.oppositeColor = function(color) {\n  if (color === \"white\") {\n    return \"black\";\n  } else if (color === \"black\") {\n    return \"white\";\n  }\n}\n\n\nBoard.directions = function(coordinates, dir) {\n  var row = coordinates[0] + dir[0];\n  var col = coordinates[1] + dir[1];\n  return [row, col]\n}\n\nBoard.inBounds = function(coordinates) {\n  if (coordinates[0] < 0 || coordinates[0] > 9) {\n    return false;\n  }\n\n  if (coordinates[1] < 0 || coordinates[1] > 9) {\n    return false;\n  }\n\n  return true;\n}\n\nBoard.prototype.incrementCount = function(color) {\n  if (color === \"black\") {\n    this.blackScore++;\n  } else {\n    this.whiteScore++;\n  }\n}\n\nBoard.prototype.tradeCount = function(color, count) {\n  if (color === \"black\") {\n    this.blackScore += count;\n    this.whiteScore -= count\n  } else if (color === \"white\") {\n    this.whiteScore += count;\n    this.blackScore -= count;\n  }\n}\n\nBoard.prototype.setupBoard = function() {\n  this.grid[4][4].color = \"white\";\n  this.grid[5][5].color = \"white\";\n  this.grid[4][5].color = \"black\";\n  this.grid[5][4].color = \"black\";\n}\n\nBoard.prototype.flipPieces = function(coordinates, color, dir) {\n  var dirCoords = [];\n  var newCoords = Board.directions(coordinates, dir);\n\n  while (Board.inBounds(newCoords) && this.findPiece(newCoords).color === Board.oppositeColor(color)) {\n    dirCoords.push(newCoords);\n    newCoords = Board.directions(newCoords, dir)\n  }\n\n  if (Board.inBounds(newCoords) && this.findPiece(newCoords).color === color) {\n    this.tradeCount(color, dirCoords.length)\n    for (var i = 0; i < dirCoords.length; i++) {\n      this.findPiece(dirCoords[i]).color = color;\n    }\n  }\n}\n\nBoard.prototype.findPiece = function(coordinates) {\n  return this.grid[coordinates[0]][coordinates[1]];\n}\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 2\n ** module chunks = 0\n **/","var Piece = function(color) {\n  this.color = color;\n}\n\nPiece.prototype.flip = function() {\n  if (this.color === \"white\") {\n    this.color = \"black\";\n  } else {\n    this.color = \"white\"\n  }\n}\n\nmodule.exports = Piece;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/piece.js\n ** module id = 3\n ** module chunks = 0\n **/","function moveError(msg) {\n  this.msg = msg;\n}\n\nmodule.exports = moveError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/moveError.js\n ** module id = 4\n ** module chunks = 0\n **/","var Player = function(game, color) {\n  this.color = color;\n}\n\nPlayer.prototype.addPiece = function(row, col) {\n  game.board.addPiece(row, col, this.color)\n}\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/player.js\n ** module id = 5\n ** module chunks = 0\n **/","var View = function(game, $el) {\n  this.game = game;\n  this.$el = $el;\n\n  this.game.setup();\n  this.setupBoard();\n  this.bindEvents();\n}\n\nView.prototype.setupBoard = function() {\n  var $ul = $(\"<ul></ul>\")\n  for (var i = 0; i < 10; i++) {\n    for (var j = 0; j < 10; j++) {\n      var $li = $(\"<li></li>\")\n      $li.data(\"pos\", [i, j])\n      $li.data(\"color\", this.game.board.grid[i][j].color)\n      $li.addClass(this.game.board.grid[i][j].color)\n      $ul.append($li)\n    }\n  }\n  this.$el.append($ul)\n  this.highlight();\n  this.updateScore();\n}\n\nView.prototype.highlight = function() {\n  var $li = $(\"li\")\n  var currentValidMoves = this.game.currentPlayerMoves();\n\n  for (var i = 0; i < $li.length; i++) {\n    for (var j = 0; j < currentValidMoves.length; j++) {\n      var liRow = $($li[i]).data(\"pos\")[0];\n      var liCol = $($li[i]).data(\"pos\")[1];\n      var validRow = currentValidMoves[j][0];\n      var validCol = currentValidMoves[j][1];\n\n      if (liRow === validRow && liCol === validCol) {\n        $($li[i]).addClass(\"highlight\")\n      }\n    }\n  }\n}\n\nView.prototype.makeMove = function($square) {\n  // check and make sure square is correct\n  var pos = $square.data(\"pos\");\n\n  try {\n    this.game.playMove(pos)\n    this.updateScore()\n  } catch (e) {\n    return;\n  }\n\n  this.updateBoard();\n  this.highlight();\n  console.log(this.game.winner)\n  if (this.game.isOver()) {\n    this.$el.off(\"click\");\n    $status = $(\".status\");\n    if (this.game.winner === \"Tie\") {\n      $status.text(\"It's a tie!\")\n    } else {\n      $status.text(this.game.winner + \" wins!\")\n    }\n  }\n}\n\nView.prototype.updateScore = function() {\n  var $whiteScore = $(\"div.white-score\");\n  var $blackScore = $(\"div.black-score\");\n  var $status = $(\".status\");\n\n  $status.text(\"Current Player is: \" + this.game.currentPlayer.color)\n  $whiteScore.text(\"White: \" + this.game.board.whiteScore)\n  $blackScore.text(\"Black: \" + this.game.board.blackScore)\n}\n\nView.prototype.updateBoard = function() {\n  var $li = $(\"li\");\n  $li.removeClass();\n\n  for (var i = 0; i < $li.length; i++) {\n    var $item = $($li[i]);\n    var row = $item.data(\"pos\")[0]\n    var col = $item.data(\"pos\")[1]\n\n    $item.addClass(this.game.board.grid[row][col].color)\n  }\n}\n\nView.prototype.bindEvents = function() {\n  var that = this;\n  this.$el.on(\"click\", \"li\", function(event) {\n    event.preventDefault();\n    var $square = $(event.currentTarget);\n    that.makeMove($square)\n  })\n}\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/view.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}